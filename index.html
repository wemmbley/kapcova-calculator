<!--

=========================================================
* Neumorphism UI - v1.0.0
=========================================================

* Product Page: https://themesberg.com/product/ui-kits/neumorphism-ui
* Copyright 2020 Themesberg MIT LICENSE (https://www.themesberg.com/licensing#mit)

* Coded by https://themesberg.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- Primary Meta Tags -->
<title>Воронка конвертов</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="title" content="Neumorphism UI - Sign in">
<meta name="author" content="Themesberg">

<link rel="canonical" href="https://themesberg.com/product/ui-kits/neumorphism-ui/" />

<!--  Social tags -->
<meta name="keywords" content="neumorphism, neumorphism ui, neomorphism, neomorphism ui, neomorphism css, neumorphism css, neumorph, neumorphic, design system, login, form, table, tables, card, cards, navbar, modal, icons, icons, map, chat, carousel, menu, datepicker, gallery, slider, date, social, dropdown, search, tab, nav, footer, date picker, forms, tabs, time, button, select, input, timeline, cart, about us, account, log in, blog, profile, portfolio, landing page, ecommerce, shop, landing, register, app, contact, one page, sign up, signup, store, bootstrap 4, bootstrap4, dashboard, bootstrap 4 dashboard, bootstrap 4 design, bootstrap 4 system, bootstrap 4, bootstrap 4 uit kit, bootstrap 4 kit, themesberg, html kit, html css template, web template, bootstrap, bootstrap 4, css3 template, frontend, responsive bootstrap template, bootstrap ui kit, responsive ui kit">
<meta name="description" content="Start developing neumorphic web applications and pages using Neumorphism UI. It features over 100 individual components and 5 example pages.">

<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="Neumorphism UI by Themesberg">
<meta itemprop="description" content="Start developing neumorphic web applications and pages using Neumorphism UI. It features over 100 individual components and 5 example pages.">
<meta itemprop="image" content="https://themesberg.s3.us-east-2.amazonaws.com/public/products/neumorphism-ui/neumorphism-thumbnail.jpg">

<!-- Twitter Card data -->
<meta name="twitter:card" content="product">
<meta name="twitter:site" content="@themesberg">
<meta name="twitter:title" content="Neumorphism UI by Themesberg">
<meta name="twitter:description" content="Start developing neumorphic web applications and pages using Neumorphism UI. It features over 100 individual components and 5 example pages.">
<meta name="twitter:creator" content="@themesberg">
<meta name="twitter:image" content="https://themesberg.s3.us-east-2.amazonaws.com/public/products/neumorphism-ui/neumorphism-thumbnail.jpg">

<!-- Open Graph data -->
<meta property="fb:app_id" content="214738555737136">
<meta property="og:title" content="Neumorphism UI by Themesberg" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://demo.themesberg.com/neumorphism-ui/" />
<meta property="og:image" content="https://themesberg.s3.us-east-2.amazonaws.com/public/products/neumorphism-ui/neumorphism-thumbnail.jpg"/>
<meta property="og:description" content="Start developing neumorphic web applications and pages using Neumorphism UI. It features over 100 individual components and 5 example pages." />
<meta property="og:site_name" content="Themesberg" />

<!-- Favicon -->
<link rel="apple-touch-icon" sizes="120x120" href="assets/img/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
<link rel="manifest" href="assets/img/favicon/site.webmanifest">
<link rel="mask-icon" href="assets/img/favicon/safari-pinned-tab.svg" color="#ffffff">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">

<!-- Fontawesome -->
<link type="text/css" href="vendor/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">

<!-- Pixel CSS -->
<link type="text/css" href="css/neumorphism.css" rel="stylesheet">

<!-- NOTICE: You can use the _analytics.html partial to include production code specific code & trackers -->

</head>

<body>
    <main>
        <!-- Section -->
        <section class="min-vh-100 d-flex bg-primary align-items-center">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12 col-md-8 col-lg-6 justify-content-center">
                        <div class="card bg-primary shadow-soft border-light p-4">
                            <div class="card-header text-center pb-0">
                                <h2 class="h4">Воронка конвертов</h2>
                            </div>
                            <div class="card-body">
                                <form action="#" class="mt-4">

                                    <div class="form-group">
                                        <label for="invoice">Прибыль</label>
                                        <div class="input-group mb-4">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><span class="fas fa-dollar-sign"></span></span>
                                            </div>
                                            <input class="form-control" id="invoice" placeholder="0" type="text" value="1300">
                                        </div>
                                    </div>

                                    <hr>

                                    <!-- Button Modal -->
                                    <button type="button" class="btn btn-block btn-primary" data-toggle="modal" data-target="#modal-notification" id="btn-calculate">Рассчитать</button>

                                    <!-- Modal Content -->
                                    <div class="modal fade" id="modal-notification" tabindex="-1" role="dialog" aria-labelledby="modal-notification" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content bg-primary">
                                                <div class="modal-header">
                                                    <p class="modal-title" id="modal-title-notification">Расчет конвертов</p>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">×</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="py-3 text-center">
                                                        <span class="modal-icon display-1-lg"><span class="fa fa-coins"></span></span>
                                                        <h2 class="h4 my-3">Расчет конвертов</h2>

                                                        <div class="d-flex" style="justify-content: center">
                                                            <div>
                                                                <div>
                                                                    Месячный конверт:
                                                                </div>
                                                                <div>
                                                                    Подушка безопасности:
                                                                </div>
                                                                <div>
                                                                    Дорогие покупки:
                                                                </div>
                                                                <div>
                                                                    Финансовая независимость:
                                                                </div>
                                                                <div>
                                                                    Отдых:
                                                                </div>
                                                                <div>
                                                                    Инвестиции:
                                                                </div>
                                                                <div>
                                                                    Налоги:
                                                                </div>
                                                                <div>
                                                                    Щедрость:
                                                                </div>
                                                                <div>
                                                                    Остаток на погулять:
                                                                </div>
                                                            </div>

                                                            <div class="pl-2">
                                                                <div>
                                                                    <b id="env-monthly">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-safety">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-expensive">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-freedom">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-chill">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-invest">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-taxes">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-bounty">100</b>
                                                                </div>
                                                                <div>
                                                                    <b id="env-free">100</b>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-sm btn-primary" style="width: 8rem" data-dismiss="modal">Закрыть</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End of Modal Content -->

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Core -->
<script src="vendor/jquery/dist/jquery.min.js"></script>
<script src="vendor/popper.js/dist/umd/popper.min.js"></script>
<script src="vendor/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="vendor/headroom.js/dist/headroom.min.js"></script>

<!-- Vendor JS -->
<script src="vendor/onscreen/dist/on-screen.umd.min.js"></script>
<script src="vendor/nouislider/distribute/nouislider.min.js"></script>
<script src="vendor/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<script src="vendor/waypoints/lib/jquery.waypoints.min.js"></script>
<script src="vendor/jarallax/dist/jarallax.min.js"></script>
<script src="vendor/jquery.counterup/jquery.counterup.min.js"></script>
<script src="vendor/jquery-countdown/dist/jquery.countdown.min.js"></script>
<script src="vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script src="vendor/prismjs/prism.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- Neumorphism JS -->
<script src="assets/js/neumorphism.js"></script>

<script>
    /**
     * Calculating and set-up envelopes in modal
     * @param invoice
     */
    function calculateEnvelopes(invoice) // 1300
    {
        let envelope = invoice / 2; // 650
        let free = envelope; // 650
        $('#env-monthly').text(envelope);

        envelope -= round(envelope - percentage(envelope, 20)); // 650-percent650
        $('#env-safety').text(envelope);
        free += envelope;

        envelope = round(envelope - percentage(envelope, 20));
        $('#env-expensive').text(envelope);
        free += envelope;

        envelope = round(envelope - percentage(envelope, 10));
        $('#env-freedom').text(envelope);
        free += envelope;

        envelope = round(envelope - percentage(envelope, 10));
        $('#env-chill').text(envelope);
        free += envelope;

        envelope = round(envelope - percentage(envelope, 10));
        $('#env-invest').text(envelope);
        free += envelope;

        envelope = round(envelope - percentage(envelope, 10));
        $('#env-taxes').text(envelope);
        free += envelope;

        envelope = round(envelope - percentage(envelope, 10));
        $('#env-bounty').text(envelope);
        free += envelope;
        free = invoice - free;


        $('#env-free').text(free);

    }

    /**
     * Calculate percentage of number
     * @param num
     * @param per
     * @returns {number}
     */
    function percentage(num, per)
    {
        return (num/100)*per;
    }

    /**
     * Round to 2 decimals
     * @param num
     * @returns {number}
     */
    function round(num)
    {
        return +(Math.round(num + "e+0")  + "e-0");
    }

    /**
     * Click event for validation and calculating invoice
     */
    $('#btn-calculate').on('click', function () {
        const invoice = parseInt($('#invoice').val());

        validateInvoice(invoice);

        calculateEnvelopes(invoice);
    });

    /**
     * Refresh page if input invoice incorrect
     * @param invoice
     */
    function validateInvoice(invoice)
    {
        if (invoice <= 0 || isNaN(invoice)) {
            alert('Некорректная сумма!');
            location.reload();
        }
    }
</script>
</body>

</html>